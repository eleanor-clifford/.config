# Mappings {{{
bind index e next-entry
bind index i previous-entry
bind index o display-message

bind index G last-entry
bind index gg first-entry
bind index j search-next
bind index J search-opposite

bind pager n exit
bind pager e next-line
bind pager i previous-line
bind pager o view-attachments
bind pager j search-next
bind pager J search-opposite

bind attach n exit
bind attach e next-entry
bind attach i previous-entry
bind attach o view-attach
bind attach j search-next
bind attach J search-opposite

#bind browser n goto-parent
#bind pager,browser gg top-page
#bind pager,browser G bottom-page
# }}}
# Editor {{{
# Delete fields I don't want in vim
set editor          = "vim -c +'/^Cc: /d|d|/^Reply-To: /d|?To: ?' +'normal A'"
set edit_headers    = yes
set autoedit        = yes
# }}}
# IMAP {{{
set folder       = imaps://outlook.office365.com:993/
set imap_user    = tc565@cam.ac.uk
set imap_pass    = `/home/tim/.config/scripts/get_password.sh cam.ac.uk`
set spoolfile    = +INBOX
mailboxes        = +INBOX

# Store message headers locally to speed things up.
# If hcache is a folder, Mutt will create sub cache folders for each account
# which may speeds things up even more.
set header_cache = ~/.cache/mutt

# Store messages locally to speed things up, like searching message bodies.
# Can be the same folder as header_cache.
# This will cost important disk usage according to your e-mail amount.
set message_cachedir = "~/.cache/mutt"

# Allow Mutt to open a new IMAP connection automatically.
unset imap_passive

# Keep the IMAP connection alive by polling intermittently (time in seconds).
set imap_keepalive = 300

# How often to check for new mail (time in seconds).
set mail_check = 60
# }}}
# SMTP {{{
set realname         = 'Tim Clifford'
set from             = tc565@cam.ac.uk
set record           = +Sent
set use_from         = yes

set smtp_url         = smtp://tc565@cam.ac.uk@smtp.office365.com:587
set smtp_pass        = $imap_pass
set ssl_starttls     = yes

# }}}
# {{{ Dracula
###############################################################################
# Dracula Theme for Mutt: https://draculatheme.com/
#
# @author Paul Townsend <paul@caprica.org>

# general ------------ foreground ---- background -----------------------------
color error         color231    color212
color indicator     color231    color241
color markers       color210    default
color message       default     default
color normal        default     default
color prompt        default     default
color search        color84     default
color status        color141    color236
color tilde         color231    default
color tree          color141    default

# message index ------ foreground ---- background -----------------------------
color index         color210    default    ~D # deleted messages
color index         color84     default    ~F # flagged messages
color index         color117    default    ~N # new messages
color index         color212    default    ~Q # messages which have been replied to
color index         color215    default    ~T # tagged messages
color index         color141    default    ~v # messages part of a collapsed thread

# message headers ---- foreground ---- background -----------------------------
color hdrdefault    color117    default
color header        color231    default    ^Subject:.*

# message body ------- foreground ---- background -----------------------------
color attachment    color228    default
color body          color231    default    [\-\.+_a-zA-Z0-9]+@[\-\.a-zA-Z0-9]+              # email addresses
color body          color228    default    (https?|ftp)://[\-\.,/%~_:?&=\#a-zA-Z0-9]+       # URLs
color body          color231    default    (^|[[:space:]])\\*[^[:space:]]+\\*([[:space:]]|$) # *bold* text
color body          color231    default    (^|[[:space:]])_[^[:space:]]+_([[:space:]]|$)    # _underlined_ text
color body          color231    default    (^|[[:space:]])/[^[:space:]]+/([[:space:]]|$)    # /italic/ text
color quoted        color61     default
color quoted1       color117    default
color quoted2       color84     default
color quoted3       color215    default
color quoted4       color212    default
color signature     color212    default
# }}}
